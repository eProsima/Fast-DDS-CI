name: setup_python_venv
description: Setup a Python virtual environment and add it to the PATH

inputs:

  path:
    description: 'Path to virtual environment'
    required: false
    default: '.venv'

  activate_global:
    description: 'Activate the virtual environment globally'
    required: false
    default: true

runs:
  using: composite
  steps:

    - name: Run in ubuntu
      uses: eProsima/eProsima-CI/ubuntu/setup_python_venv@feature/ubuntu-24
      if: runner.os == 'Linux'
      with:
        path: ${{ inputs.path }}
        activate_global: ${{ inputs.activate_global }}

    - name: Run in windows
      uses: eProsima/eProsima-CI/windows/setup_python_venv@feature/ubuntu-24
      if: runner.os == 'Windows'
      with:
        path: ${{ inputs.path }}
        activate_global: ${{ inputs.activate_global }}

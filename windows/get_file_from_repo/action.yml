name: 'get_file_from_repo'
description: 'TODO'

inputs:

  source_repository_branch:
    description: 'TODO'
    required: false
    default: 'main'

  source_repository:
    description: 'TODO'
    required: false
    default: '$GITHUB_REPOSITORY'

  file_name:
    description: 'Colcon meta to give cmake options to packages'
    required: true

  file_result:
    description: 'Name of the file result'
    required: false
    default: ''

  file_result_path:
    description: 'Directory to save file'
    required: false
    default: '.\'

runs:
  using: composite
  steps:

    - name: Download using wget
      shell: pwsh
      run: |

        if ([string]::IsNullOrEmpty(${{ inputs.file_result }})) {
          $env:FILE_RESULT_ = ${{ inputs.file_name }}
        } else {
          $env:FILE_RESULT_ = ${{ inputs.file_result }}
        }

        wget https://raw.githubusercontent.com/${{ inputs.source_repository }}/${{ inputs.source_repository_branch }}/${{ inputs.file_name }} -output ${{ inputs.file_result_path }}/$env:FILE_RESULT_
